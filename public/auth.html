<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login / Sign Up</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
body{ margin:0; font-family:Arial,sans-serif; background:#eaeaf0; display:flex; justify-content:center; align-items:center; height:100vh;}
.card{ padding:30px 25px; border-radius:20px; background:#eaeaf0; box-shadow:10px 10px 20px #c9c9ce, -10px -10px 20px #ffffff; width:350px;}
.toggle{ display:flex; background:#e3e3ea; border-radius:50px; padding:5px; margin-bottom:25px;}
.toggle button{ flex:1; border:none; padding:10px 0; border-radius:50px; background:transparent; font-weight:600; cursor:pointer; transition:0.4s;}
.toggle .active{ background:linear-gradient(90deg,#6a00f4,#2a8cff); color:white; box-shadow:0 4px 10px rgba(0,0,0,0.1);}
h2{text-align:center;margin-bottom:20px;}
.input-box{position:relative;margin-bottom:18px;}
.input-box input{width:100%;padding:15px 45px;border:none;border-radius:30px;background:#eaeaf0;box-shadow:inset 5px 5px 10px #c9c9ce,inset -5px -5px 10px #ffffff;outline:none;font-size:14px;}
.input-box i{position:absolute;top:50%;transform:translateY(-50%);color:#777;}
.left{left:18px;}
.right{right:18px; cursor:pointer;}
.btn{width:100%;padding:15px;border:none;border-radius:30px;background:linear-gradient(90deg,#6a00f4,#2a8cff);color:white;font-weight:600;cursor:pointer;margin-top:5px;}
.message{margin-top:10px;text-align:center;font-size:14px;}
.success{color:green;}
.error{color:red;}
</style>
</head>
<body>

<div class="card">
    <div class="toggle">
        <button class="active" id="loginTab">Login</button>
        <button id="signupTab">Sign Up</button>
    </div>

    <h2 id="title">Login</h2>

    <div class="input-box">
        <i class="fa-solid fa-envelope left"></i>
        <input type="email" id="email" placeholder="Email">
    </div>

    <div class="input-box">
        <i class="fa-solid fa-lock left"></i>
        <input type="password" id="password" placeholder="Password">
        <i class="fa-solid fa-eye right" onclick="togglePass()"></i>
    </div>

    <button class="btn" onclick="handleAuth()" id="mainBtn">Login</button>
    <div class="message" id="message"></div>
</div>

<script>
let mode = "login";

const loginTab = document.getElementById("loginTab");
const signupTab = document.getElementById("signupTab");
const title = document.getElementById("title");
const mainBtn = document.getElementById("mainBtn");
const message = document.getElementById("message");

loginTab.onclick = () => {
    mode = "login";
    loginTab.classList.add("active");
    signupTab.classList.remove("active");
    title.innerText = "Login";
    mainBtn.innerText = "Login";
    message.innerText = "";
};

signupTab.onclick = () => {
    mode = "signup";
    signupTab.classList.add("active");
    loginTab.classList.remove("active");
    title.innerText = "Sign Up";
    mainBtn.innerText = "Create Account";
    message.innerText = "";
};

function togglePass(){
    const pass = document.getElementById("password");
    pass.type = pass.type === "password" ? "text" : "password";
}

function handleAuth(){
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();

    if(email === "" || password === ""){
        showMessage("Please fill all fields", "error");
        return;
    }

    if(mode === "signup"){
        const user = { email, password };
        localStorage.setItem("user", JSON.stringify(user));
        showMessage("Account created! You can login now.", "success");
    }

    if(mode === "login"){
        const storedUser = JSON.parse(localStorage.getItem("user"));

        if(!storedUser){
            showMessage("No account found. Please sign up first.", "error");
            return;
        }

        if(email === storedUser.email && password === storedUser.password){
            localStorage.setItem("loggedIn", "true"); // mark session
            window.location.href = "index.html"; // redirect to dashboard
        } else {
            showMessage("Invalid email or password.", "error");
        }
    }
}

function showMessage(text, type){
    message.innerText = text;
    message.className = "message " + type;
}
</script>

</body>
</html>
