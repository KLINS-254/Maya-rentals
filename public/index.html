<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
    --gradient-start:#6a00f4;
    --gradient-end:#2a8cff;
    --primary-teal: #00d1c1;
    --text-gray: #aaaaaa;
    --bg-light: #f4f7f6;
}
body{margin:0;font-family:Arial,sans-serif;background:#f4f6f9;}
.section{display:none;padding:20px;padding-bottom:120px;}
.section.active-section{display:block;}
h2{margin-top:0;}
.dashboard-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;}
.card{padding:20px;border-radius:25px;color:white;}
.card-value{font-size:2rem;font-weight:600;}
.card-label{font-size:0.9rem;}
.orange{background:#ff9f43;}
.green{background:#20e060;}
.purple{background:#be90e4;}
.blue{background:#64a1bd;}
.status-card{background:#ff0050;padding:12px 18px;border-radius:18px;color:white;margin-bottom:20px;display:flex;align-items:center;gap:12px;}
.status-icon-circle{width:30px;height:30px;background:rgba(255,255,255,0.3);border-radius:50%;}
.status-label{font-size:0.85rem;font-weight:600;}
.status-value{font-size:1.2rem;font-weight:700;}
.product-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;}
.product-card{background:white;border-radius:20px;padding:18px;box-shadow:0 3px 8px rgba(0,0,0,0.05);}
.product-image{width:100%;height:130px;object-fit:cover;border-radius:15px;margin-bottom:10px;}
.product-name{font-weight:700;margin-bottom:8px;font-size:0.85rem;}
.product-price{color:#00c9a7;font-weight:600;margin-bottom:8px;}
.product-details{font-size:0.75rem;line-height:1.5;color:#666;margin-bottom:10px;}
.buy-btn{width:100%;background:#00c9a7;color:white;border:none;padding:8px;border-radius:15px;font-weight:600;cursor:pointer;}
.wallet-grid{display:flex;flex-direction:column;gap:20px;max-width:450px;margin:auto;}
.withdrawal-card{width:100%;background:white;border-radius:30px;padding:30px 25px;box-shadow:0 4px 15px rgba(0,0,0,0.05);}
.input-box{width:100%;padding:12px 15px;border:1px solid #f0f0f0;border-radius:15px;background:#fafafa;font-size:1rem;margin-bottom:15px;}
.withdraw-btn{background:var(--primary-teal);color:white;border:none;width:100%;padding:12px;border-radius:25px;font-weight:bold;cursor:pointer;}
.withdraw-btn:hover{background:#00b3a5;}
#depositModal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);justify-content:center;align-items:center;z-index:9999;}
.deposit-card{background:white;border-radius:20px;padding:25px 20px;width:90%;max-width:350px;text-align:center;position:relative;}
.deposit-card img{width:80px;height:80px;object-fit:cover;border-radius:15px;margin-bottom:15px;border:1px solid #eee;}
.close-btn{position:absolute;top:10px;right:10px;font-size:18px;font-weight:bold;cursor:pointer;}
.alert{color:red;font-size:0.8rem;margin-top:5px;display:none;}
.timer{font-size:1.6rem;font-weight:bold;color:#2a8cff;margin:10px 0;}
.copy-btn{background:#2a8cff;color:white;border:none;padding:6px 12px;border-radius:15px;margin:5px;cursor:pointer;font-size:0.8rem;}
.bottom-nav{position:fixed;bottom:0;left:0;right:0;height:65px;background:linear-gradient(90deg,var(--gradient-start),var(--gradient-end));display:flex;justify-content:space-around;align-items:center;border-top-left-radius:15px;border-top-right-radius:15px;}
.bottom-nav a{color:white;text-decoration:none;text-align:center;font-size:12px;flex:1;}
.bottom-nav i{display:block;font-size:22px;}
.logout-btn{padding:8px 15px;border:none;background:linear-gradient(90deg,#6a00f4,#2a8cff);color:white;border-radius:8px;cursor:pointer;}
</style>
</head>

<body>

<script>
if(localStorage.getItem("loggedIn")!=="true"){
    window.location.href="auth.html";
}
</script>

<!-- HOME -->
<div id="home" class="section active-section">
<h2><img src="logo.png" style="width:35px;height:35px;border-radius:8px;"> Home</h2>
<div class="dashboard-grid">
<div class="card orange"><div class="card-value">0</div><div class="card-label">Available balance</div></div>
<div class="card green"><div class="card-value">0</div><div class="card-label">Today's earnings</div></div>
<div class="card purple"><div class="card-value">0</div><div class="card-label">Deposit amount</div></div>
<div class="card blue"><div class="card-value">0</div><div class="card-label">Withdrawal amount</div></div>
</div>
</div>

<!-- WALLET -->
<div id="wallet" class="section">
<h2><img src="logo.png" style="width:35px;height:35px;border-radius:8px;"> Wallet</h2>

<div class="withdrawal-card">
<div class="title">DEPOSIT</div>
<select class="input-box" id="depositAccount">
<option value="">--Please Select--</option>
<option value="mpesa">Mpesa</option>
<option value="airtel">Airtel</option>
<option value="paypal">Paypal</option>
</select>

<input type="number" class="input-box" id="depositAmount" placeholder="Amount">
<div class="alert" id="depositAlert">Minimum deposit is KSH 1,300</div>
<button class="withdraw-btn" id="depositBtn">Deposit Now</button>
</div>
</div>

<!-- Modal -->
<div id="depositModal">
<div class="deposit-card">
<span class="close-btn" id="closeModal">×</span>
<img src="mpesa.png" id="depositLogo">
<div id="depositContent"></div>
</div>
</div>

<script>
const depositBtn=document.getElementById("depositBtn");
const depositModal=document.getElementById("depositModal");
const depositAccount=document.getElementById("depositAccount");
const depositAmount=document.getElementById("depositAmount");
const depositAlert=document.getElementById("depositAlert");
const depositLogo=document.getElementById("depositLogo");
const depositContent=document.getElementById("depositContent");
const closeModal=document.getElementById("closeModal");

let timer;

depositBtn.onclick=function(){
const account=depositAccount.value;
const amount=parseFloat(depositAmount.value);

if(amount<1300){
depositAlert.style.display="block";
setTimeout(()=>depositAlert.style.display="none",3000);
return;
}
if(!account)return;

if(account==="mpesa")depositLogo.src="mpesa.png";
if(account==="airtel")depositLogo.src="airtel.png";
if(account==="paypal")depositLogo.src="paypal.png";

if(account==="paypal"){
depositContent.innerHTML="<div style='color:red;font-weight:bold'>The service is under maintenance</div>";
depositModal.style.display="flex";
return;
}

depositContent.innerHTML=`
<div><b>E-Wallet:</b> 0797××××022</div>
<button class="copy-btn" onclick="copyText('0797xxxx022')">Copy</button>

<div class="timer" id="countdown">14:59</div>

<div><b>Recipient:</b> 0763×××××456</div>
<button class="copy-btn" onclick="copyText('0763xxxxx456')">Copy</button>
`;

depositModal.style.display="flex";

let time=14*60+59;
clearInterval(timer);
timer=setInterval(()=>{
let m=Math.floor(time/60);
let s=time%60;
if(s<10)s="0"+s;
document.getElementById("countdown").innerText=m+":"+s;
if(time<=0){
clearInterval(timer);
depositModal.style.display="none";
}
time--;
},1000);
};

function copyText(text){
navigator.clipboard.writeText(text);
}

closeModal.onclick=function(){
depositModal.style.display="none";
clearInterval(timer);
};

depositModal.onclick=function(e){
if(e.target===depositModal){
depositModal.style.display="none";
clearInterval(timer);
}
};
</script>

</body>
</html>
