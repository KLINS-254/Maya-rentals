<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HOENGAGER RTX - Deposit</title>
<style>
body {
    font-family:'Segoe UI',sans-serif;
    background:#e0f7f3;
    margin:0;
    padding:20px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:20px;
}

/* E-wallet box */
.wallet-box, .amount-box, .recipient-box, .timer-box {
    width:100%;
    max-width:400px;
    background:white;
    border-radius:15px;
    padding:15px;
    box-sizing:border-box;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:16px;
}

/* Labels */
.label { font-size:0.85rem; color:#555; margin-bottom:5px; }

/* Copy button */
.copy-btn {
    cursor:pointer;
    background:#00d1c1;
    color:white;
    border:none;
    padding:5px 10px;
    border-radius:8px;
}

/* Recipient input */
.recipient-input {
    width:100%;
    padding:12px;
    font-size:16px;
    border-radius:12px;
    border:1px solid #ccc;
    box-sizing:border-box;
}

/* Done button */
.done-btn {
    margin-top:10px;
    padding:10px 20px;
    border:none;
    background:#00d1c1;
    color:white;
    border-radius:12px;
    cursor:pointer;
}

/* Invalid input */
.invalid {
    border-color:red;
}

/* Timer */
.timer-display {
    font-weight:bold;
    font-size:1.8rem;
    color:#00d1c1;
    text-align:center;
}

/* Modal */
.modal {
    display:none;
    position:fixed;
    top:0; left:0; right:0; bottom:0;
    background:rgba(0,0,0,0.5);
    justify-content:center;
    align-items:center;
    z-index:9999;
}

.modal-content {
    background:white;
    padding:20px;
    border-radius:20px;
    text-align:center;
}

.close-btn {
    margin-top:15px;
    padding:8px 20px;
    cursor:pointer;
    background:#00d1c1;
    color:white;
    border:none;
    border-radius:12px;
}
</style>
</head>
<body>

<h2>Deposit</h2>

<!-- E-wallet -->
<div class="wallet-box">
    <div>E-wallet</div>
    <div id="ewalletNumber">0789016069</div>
    <button class="copy-btn" onclick="copyEwallet()">Copy</button>
</div>

<!-- Amount -->
<div class="amount-box">
    <div>Amount:</div>
    <div id="depositAmount">1300.00</div>
</div>

<!-- Recipient Number -->
<div class="recipient-box">
    <div style="width:100%;">
        <div class="label">Recipient Number</div>
        <input type="text" id="recipientInput" class="recipient-input" placeholder="Enter 07xxxxxxxx" maxlength="10">
    </div>
    <button class="done-btn" id="recipientDone">Done</button>
</div>

<!-- Timer -->
<div class="timer-box">
    <div class="label">Time Remaining</div>
    <div id="timerDisplay" class="timer-display">14:59</div>
</div>

<script>
function copyEwallet(){
    const ewallet = document.getElementById("ewalletNumber").innerText;
    navigator.clipboard.writeText(ewallet);
    alert("Copied: " + ewallet);
}

// Validate recipient number
const recipientInput = document.getElementById("recipientInput");
const recipientDone = document.getElementById("recipientDone");
const timerDisplay = document.getElementById("timerDisplay");

let countdown;
recipientDone.addEventListener("click", ()=>{
    const num = recipientInput.value;
    const regex = /^07\d{8}$/;
    if(!regex.test(num)){
        recipientInput.classList.add("invalid");
        alert("Recipient number must start with 07 and be 10 digits.");
        return;
    }
    recipientInput.classList.remove("invalid");
    recipientInput.disabled = true;
    recipientDone.disabled = true;

    // Start timer 14:59
    let time = 14*60+59;
    countdown = setInterval(()=>{
        let m = Math.floor(time/60);
        let s = time%60;
        s = s<10?"0"+s:s;
        timerDisplay.innerText = m+":"+s;
        if(time<=0){
            clearInterval(countdown);
            alert("Time finished. Redirecting back.");
            window.location.href = "index.html"; // Back to index
        }
        time--;
    },1000);
});
</script>

</body>
</html>
